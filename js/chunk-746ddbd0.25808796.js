(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-746ddbd0"],{"02f4":function(t,e,a){var r=a("4588"),n=a("be13");t.exports=function(t){return function(e,a){var s,i,o=String(n(e)),c=r(a),l=o.length;return c<0||c>=l?t?"":void 0:(s=o.charCodeAt(c),s<55296||s>56319||c+1===l||(i=o.charCodeAt(c+1))<56320||i>57343?t?o.charAt(c):s:t?o.slice(c,c+2):i-56320+(s-55296<<10)+65536)}}},"0390":function(t,e,a){"use strict";var r=a("02f4")(!0);t.exports=function(t,e,a){return e+(a?r(t,e).length:1)}},"0bfb":function(t,e,a){"use strict";var r=a("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,a){"use strict";a("b0c5");var r=a("2aba"),n=a("32e9"),s=a("79e5"),i=a("be13"),o=a("2b4c"),c=a("520a"),l=o("species"),u=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();t.exports=function(t,e,a){var p=o(t),v=!s((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),f=v?!s((function(){var e=!1,a=/a/;return a.exec=function(){return e=!0,null},"split"===t&&(a.constructor={},a.constructor[l]=function(){return a}),a[p](""),!e})):void 0;if(!v||!f||"replace"===t&&!u||"split"===t&&!d){var g=/./[p],m=a(i,p,""[t],(function(t,e,a,r,n){return e.exec===c?v&&!n?{done:!0,value:g.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}})),h=m[0],b=m[1];r(String.prototype,t,h),n(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"28a5":function(t,e,a){"use strict";var r=a("aae3"),n=a("cb7c"),s=a("ebd6"),i=a("0390"),o=a("9def"),c=a("5f1b"),l=a("520a"),u=a("79e5"),d=Math.min,p=[].push,v="split",f="length",g="lastIndex",m=4294967295,h=!u((function(){RegExp(m,"y")}));a("214f")("split",2,(function(t,e,a,u){var b;return b="c"=="abbc"[v](/(b)*/)[1]||4!="test"[v](/(?:)/,-1)[f]||2!="ab"[v](/(?:ab)*/)[f]||4!="."[v](/(.?)(.?)/)[f]||"."[v](/()()/)[f]>1||""[v](/.?/)[f]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return a.call(n,t,e);var s,i,o,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,v=void 0===e?m:e>>>0,h=new RegExp(t.source,u+"g");while(s=l.call(h,n)){if(i=h[g],i>d&&(c.push(n.slice(d,s.index)),s[f]>1&&s.index<n[f]&&p.apply(c,s.slice(1)),o=s[0][f],d=i,c[f]>=v))break;h[g]===s.index&&h[g]++}return d===n[f]?!o&&h.test("")||c.push(""):c.push(n.slice(d)),c[f]>v?c.slice(0,v):c}:"0"[v](void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,r){var n=t(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,n,r):b.call(String(n),a,r)},function(t,e){var r=u(b,t,this,e,b!==a);if(r.done)return r.value;var l=n(t),p=String(this),v=s(l,RegExp),f=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(h?"y":"g"),_=new v(h?l:"^(?:"+l.source+")",g),w=void 0===e?m:e>>>0;if(0===w)return[];if(0===p.length)return null===c(_,p)?[p]:[];var x=0,P=0,C=[];while(P<p.length){_.lastIndex=h?P:0;var y,$=c(_,h?p:p.slice(P));if(null===$||(y=d(o(_.lastIndex+(h?0:P)),p.length))===x)P=i(p,P,f);else{if(C.push(p.slice(x,P)),C.length===w)return C;for(var k=1;k<=$.length-1;k++)if(C.push($[k]),C.length===w)return C;P=x=y}}return C.push(p.slice(x)),C}]}))},"520a":function(t,e,a){"use strict";var r=a("0bfb"),n=RegExp.prototype.exec,s=String.prototype.replace,i=n,o="lastIndex",c=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[o]||0!==e[o]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(i=function(t){var e,a,i,u,d=this;return l&&(a=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),c&&(e=d[o]),i=n.call(d,t),c&&i&&(d[o]=d.global?i.index+i[0].length:e),l&&i&&i.length>1&&s.call(i[0],a,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)})),i}),t.exports=i},"5f1b":function(t,e,a){"use strict";var r=a("23c6"),n=RegExp.prototype.exec;t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var s=a.call(t,e);if("object"!==typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"7f7f":function(t,e,a){var r=a("86cc").f,n=Function.prototype,s=/^\s*function ([^ (]*)/,i="name";i in n||a("9e1e")&&r(n,i,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},a481:function(t,e,a){"use strict";var r=a("cb7c"),n=a("4bf8"),s=a("9def"),i=a("4588"),o=a("0390"),c=a("5f1b"),l=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,(function(t,e,a,g){return[function(r,n){var s=t(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,s,n):a.call(String(s),r,n)},function(t,e){var n=g(a,t,this,e);if(n.done)return n.value;var d=r(t),p=String(this),v="function"===typeof e;v||(e=String(e));var h=d.global;if(h){var b=d.unicode;d.lastIndex=0}var _=[];while(1){var w=c(d,p);if(null===w)break;if(_.push(w),!h)break;var x=String(w[0]);""===x&&(d.lastIndex=o(p,s(d.lastIndex),b))}for(var P="",C=0,y=0;y<_.length;y++){w=_[y];for(var $=String(w[0]),k=l(u(i(w.index),p.length),0),E=[],M=1;M<w.length;M++)E.push(f(w[M]));var O=w.groups;if(v){var N=[$].concat(E,k,p);void 0!==O&&N.push(O);var S=String(e.apply(void 0,N))}else S=m($,p,k,E,O,e);k>=C&&(P+=p.slice(C,k)+S,C=k+$.length)}return P+p.slice(C)}];function m(t,e,r,s,i,o){var c=r+t.length,l=s.length,u=v;return void 0!==i&&(i=n(i),u=p),a.call(o,u,(function(a,n){var o;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":o=i[n.slice(1,-1)];break;default:var u=+n;if(0===u)return a;if(u>l){var p=d(u/10);return 0===p?a:p<=l?void 0===s[p-1]?n.charAt(1):s[p-1]+n.charAt(1):a}o=s[u-1]}return void 0===o?"":o}))}}))},aae3:function(t,e,a){var r=a("d3f4"),n=a("2d95"),s=a("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},b0c5:function(t,e,a){"use strict";var r=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},c2bc:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-primary mt-4",on:{click:function(e){return e.preventDefault(),t.openModal(!0,null,"productModal")}}},[t._v("建立新的產品")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.products,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.title))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.origin_price)))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.price)))]),a("td",{staticClass:"pl-4",class:{"text-success":e.is_enabled}},[t._v("\n          "+t._s(e.is_enabled?"已啟用":"未啟用")+"\n        ")]),a("td",[a("button",{staticClass:"btn btn-outline-info btn-sm",on:{click:function(a){return a.preventDefault(),t.openModal(!1,e,"productModal")}}},[t._v("編輯")]),a("button",{staticClass:"btn btn-outline-danger ml-2 btn-sm",on:{click:function(a){return a.preventDefault(),t.openModal(!1,e,"delProductModal")}}},[t._v("刪除")])])])})),0)]),a("page"),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newProducts.imageUrl,expression:"newProducts.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.newProducts.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.newProducts,"imageUrl",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片\n                  "),t.imgUploading?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadImg}})]),a("img",{staticClass:"img-fluid",attrs:{src:t.newProducts.imageUrl,alt:""}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newProducts.title,expression:"newProducts.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.newProducts.title},on:{input:function(e){e.target.composing||t.$set(t.newProducts,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newProducts.category,expression:"newProducts.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.newProducts.category},on:{input:function(e){e.target.composing||t.$set(t.newProducts,"category",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newProducts.unit,expression:"newProducts.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.newProducts.unit},on:{input:function(e){e.target.composing||t.$set(t.newProducts,"unit",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newProducts.origin_price,expression:"newProducts.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.newProducts.origin_price},on:{input:function(e){e.target.composing||t.$set(t.newProducts,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newProducts.price,expression:"newProducts.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.newProducts.price},on:{input:function(e){e.target.composing||t.$set(t.newProducts,"price",e.target.value)}}})])]),a("hr"),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newProducts.description,expression:"newProducts.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.newProducts.description},on:{input:function(e){e.target.composing||t.$set(t.newProducts,"description",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newProducts.content,expression:"newProducts.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.newProducts.content},on:{input:function(e){e.target.composing||t.$set(t.newProducts,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newProducts.is_enabled,expression:"newProducts.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.newProducts.is_enabled)?t._i(t.newProducts.is_enabled,null)>-1:t._q(t.newProducts.is_enabled,1)},on:{change:function(e){var a=t.newProducts.is_enabled,r=e.target,n=r.checked?1:0;if(Array.isArray(a)){var s=null,i=t._i(a,s);r.checked?i<0&&t.$set(t.newProducts,"is_enabled",a.concat([s])):i>-1&&t.$set(t.newProducts,"is_enabled",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.newProducts,"is_enabled",n)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                    是否啟用\n                  ")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.clearFile}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.updateProduct(e)}}},[t._v("確認")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v("\n          是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.newProducts.title))]),t._v(" 商品(刪除後將無法恢復)。\n        ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.removeProduct}},[t._v("確認刪除")])])])])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{attrs:{width:"120"}},[t._v("分類")]),a("th",[t._v("產品名稱")]),a("th",{staticClass:"text-right",attrs:{width:"100"}},[t._v("原價")]),a("th",{staticClass:"text-right",attrs:{width:"100"}},[t._v("價格")]),a("th",{staticClass:"pl-4",attrs:{width:"120"}},[t._v("是否啟用")]),a("th",{staticClass:"text-center",attrs:{width:"150"}},[t._v("編輯")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("新增產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],s=(a("8e6e"),a("ac6a"),a("456d"),a("a481"),a("28a5"),a("bd86")),i=a("1157"),o=a.n(i),c=a("fea3");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"Admin_products",components:{page:c["a"]},data:function(){return{newProducts:{},isNew:!1,imgUploading:!1}},created:function(){this.$store.dispatch("getProducts")},methods:{openModal:function(t,e,a){t?(this.newProducts={},this.isNew=!0):(this.newProducts=u({},e),this.isNew=!1),o()("#".concat(a)).modal("show")},updateProduct:function(){var t=this,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("hiro","/admin/product"),r="post";this.isNew||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("hiro","/admin/product/").concat(e.newProducts.id),r="put"),this.axios[r](a,{data:e.newProducts}).then((function(a){o()("#productModal").modal("hide"),e.clearFile(),t.$store.dispatch("getProducts"),a.data.success||e.$store.dispatch("updateMessage",{message:a.data.message,status:"danger"})}))},removeProduct:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("hiro","/admin/product/").concat(this.newProducts.id);this.axios.delete(e).then((function(){o()("#delProductModal").modal("hide"),t.$store.dispatch("getProducts")}))},uploadImg:function(t){var e=this,a=new FormData;this.imgUploading=!0,a.append("image",t.target.files[0]);var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("hiro","/admin/upload");this.axios.post(r,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){t.data.success?e.$set(e.newProducts,"imageUrl",t.data.imageUrl):e.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"}),e.imgUploading=!1}))},clearFile:function(){this.$refs.files.value=""}},computed:{products:function(){return this.$store.state.products},isLoading:function(){return this.$store.state.isLoading}},filters:{currency:function(t){if(void 0===t)return"";var e=String(t).split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}}},p=d,v=a("2877"),f=Object(v["a"])(p,r,n,!1,null,null,null);e["default"]=f.exports},fea3:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:!t.page.has_pre},on:{click:function(e){return t.changePage(t.page.current_page-1)}}},[t._m(0)]),t._l(t.page.total_pages,(function(e,r){return a("li",{key:r,staticClass:"page-item",class:{active:t.page.current_page===e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changePage(e)}}},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item",class:{disabled:!t.page.has_next},on:{click:function(e){return t.changePage(t.page.current_page+1)}}},[t._m(1)])],2)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])}],s=(a("7f7f"),{name:"tem_pagenation",methods:{changePage:function(t){t<1||t>this.page.total_pages||("Products"===this.$route.name?this.$store.dispatch("getProducts",{pageNum:t,isAdmin:!0,item:"product"}):"Customer_orders"===this.$route.name?this.$store.dispatch("getProducts",{pageNum:t,isAdmin:!1,item:"product"}):"Coupon"===this.$route.name?this.$store.dispatch("getProducts",{pageNum:t,isAdmin:!0,item:"coupon"}):"OrderList"===this.$route.name&&this.$store.dispatch("getProducts",{pageNum:t,isAdmin:!0,item:"orderlist"}))}},computed:{page:function(){return this.$store.state.pagination}}}),i=s,o=a("2877"),c=Object(o["a"])(i,r,n,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-746ddbd0.25808796.js.map