(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a233acca"],{"02f4":function(t,e,a){var r=a("4588"),s=a("be13");t.exports=function(t){return function(e,a){var n,i,o=String(s(e)),c=r(a),l=o.length;return c<0||c>=l?t?"":void 0:(n=o.charCodeAt(c),n<55296||n>56319||c+1===l||(i=o.charCodeAt(c+1))<56320||i>57343?t?o.charAt(c):n:t?o.slice(c,c+2):i-56320+(n-55296<<10)+65536)}}},"0390":function(t,e,a){"use strict";var r=a("02f4")(!0);t.exports=function(t,e,a){return e+(a?r(t,e).length:1)}},"0bfb":function(t,e,a){"use strict";var r=a("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,a){"use strict";a("b0c5");var r=a("2aba"),s=a("32e9"),n=a("79e5"),i=a("be13"),o=a("2b4c"),c=a("520a"),l=o("species"),u=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();t.exports=function(t,e,a){var p=o(t),m=!n((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),v=m?!n((function(){var e=!1,a=/a/;return a.exec=function(){return e=!0,null},"split"===t&&(a.constructor={},a.constructor[l]=function(){return a}),a[p](""),!e})):void 0;if(!m||!v||"replace"===t&&!u||"split"===t&&!d){var f=/./[p],h=a(i,p,""[t],(function(t,e,a,r,s){return e.exec===c?m&&!s?{done:!0,value:f.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}})),g=h[0],b=h[1];r(String.prototype,t,g),s(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"28a5":function(t,e,a){"use strict";var r=a("aae3"),s=a("cb7c"),n=a("ebd6"),i=a("0390"),o=a("9def"),c=a("5f1b"),l=a("520a"),u=a("79e5"),d=Math.min,p=[].push,m="split",v="length",f="lastIndex",h=4294967295,g=!u((function(){RegExp(h,"y")}));a("214f")("split",2,(function(t,e,a,u){var b;return b="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[v]||2!="ab"[m](/(?:ab)*/)[v]||4!="."[m](/(.?)(.?)/)[v]||"."[m](/()()/)[v]>1||""[m](/.?/)[v]?function(t,e){var s=String(this);if(void 0===t&&0===e)return[];if(!r(t))return a.call(s,t,e);var n,i,o,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,m=void 0===e?h:e>>>0,g=new RegExp(t.source,u+"g");while(n=l.call(g,s)){if(i=g[f],i>d&&(c.push(s.slice(d,n.index)),n[v]>1&&n.index<s[v]&&p.apply(c,n.slice(1)),o=n[0][v],d=i,c[v]>=m))break;g[f]===n.index&&g[f]++}return d===s[v]?!o&&g.test("")||c.push(""):c.push(s.slice(d)),c[v]>m?c.slice(0,m):c}:"0"[m](void 0,0)[v]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,r){var s=t(this),n=void 0==a?void 0:a[e];return void 0!==n?n.call(a,s,r):b.call(String(s),a,r)},function(t,e){var r=u(b,t,this,e,b!==a);if(r.done)return r.value;var l=s(t),p=String(this),m=n(l,RegExp),v=l.unicode,f=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(g?"y":"g"),C=new m(g?l:"^(?:"+l.source+")",f),x=void 0===e?h:e>>>0;if(0===x)return[];if(0===p.length)return null===c(C,p)?[p]:[];var _=0,y=0,w=[];while(y<p.length){C.lastIndex=g?y:0;var $,k=c(C,g?p:p.slice(y));if(null===k||($=d(o(C.lastIndex+(g?0:y)),p.length))===_)y=i(p,y,v);else{if(w.push(p.slice(_,y)),w.length===x)return w;for(var E=1;E<=k.length-1;E++)if(w.push(k[E]),w.length===x)return w;y=_=$}}return w.push(p.slice(_)),w}]}))},2910:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customer_orders"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row mt-4"},t._l(t.products,(function(e,r){return a("div",{key:r,staticClass:"col-md-4 mb-4"},[a("div",{staticClass:"card border-0 shadow-sm"},[a("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(e.category))]),a("h6",{staticClass:"card-title"},[a("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(e.title))])]),a("p",{staticClass:"card-text"},[t._v(t._s(e.content||"_"))]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a("del",{staticClass:"h6"},[t._v("原價 "+t._s(e.origin_price||0)+" 元")]),a("div",{staticClass:"h5"},[t._v("現在只要 "+t._s(e.price||0)+" 元")])])]),a("div",{staticClass:"card-footer d-flex"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(a){return t.getOnePro(e.id)}}},[t.selected===e.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            查看更多\n          ")]),a("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(a){return t.addtoCart(e.id)}}},[t.selected===e.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            加到購物車\n          ")])])])])})),0),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v(t._s(t.product.title))])]),t._m(0)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("img",{staticClass:"img-fluid mx-auto d-block",staticStyle:{"max-height":"400px"},attrs:{src:t.product.imageUrl}}),a("h5",{staticClass:"font-weight-normal mt-3 mb-4"},[t._v(t._s(t.product.content))]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a("del",{staticClass:"h6"},[t._v("原價 "+t._s(t.product.origin_price||0)+" 元")]),a("div",{staticClass:"h4"},[t._v("現在只要 "+t._s(t.product.price||0)+" 元")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.butQty,expression:"butQty"}],staticClass:"custom-select mt-5",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.butQty=e.target.multiple?a:a[0]}}},t._l(10,(function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v("\n                  選購 "+t._s(e)+" "+t._s(t.product.unit||"個")+"\n                ")])})),0)])])]),a("div",{staticClass:"modal-footer"},[a("h6",{staticClass:"mr-4 pt-2"},[t._v("總計 "+t._s(t.product.price*t.butQty||0)+" 元")]),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.addtoCart(t.product.id,t.butQty)}}},[t._v("加到購物車")])])])])]),0!==t.cart.carts.length?a("div",{staticClass:"d-block mx-auto mt-4",staticStyle:{width:"60%"}},[a("table",{staticClass:"table"},[t._m(1),a("tbody",t._l(t.cart.carts,(function(e,r){return a("tr",{key:r},[a("td",{staticClass:"align-middle"},[a("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return t.removeCartItem(e.id)}}},[a("i",{staticClass:"far fa-trash-alt"})])]),a("td",{staticClass:"align-middle"},[t._v("\n            "+t._s(e.product.title)+"\n            "),e.coupon?a("div",{staticClass:"text-success"},[t._v("\n              已套用優惠券\n            ")]):t._e()]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(e.total)))])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),t.cart.final_total!==t.cart.total?a("tr",[a("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]),a("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t._e()])]),a("div",{staticClass:"input-group mb-3 input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon.code,expression:"coupon.code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon.code},on:{input:function(e){e.target.composing||t.$set(t.coupon,"code",e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.useCoupon(e)}}},[t._v("\n          套用優惠碼\n        ")])])])]):t._e(),a("div",{staticClass:"my-5 row justify-content-center"},[a("form",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email","data-vv-as":"Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名","data-vv-as":"姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("name")))])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.phone,expression:"form.user.phone"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",name:"phone",placeholder:"請輸入電話","data-vv-as":"電話"},domProps:{value:t.form.user.phone},on:{input:function(e){e.target.composing||t.$set(t.form.user,"phone",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("phone")))])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址","data-vv-as":"地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("address")))])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),t.formCommit(e)}}},[t._v("送出訂單")])])])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th"),a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",[t._v("單價")])])}],n=(a("a481"),a("28a5"),a("7f7f"),a("1157")),i=a.n(n),o={name:"Admin_orderTest",components:{},data:function(){return{product:{},selected:null,butQty:1,coupon:{code:""},form:{message:"",user:{}}}},created:function(){this.$store.dispatch("getProducts",{pageNum:1,isAdmin:!1,item:"product"}),this.$store.dispatch("getCart")},methods:{getOnePro:function(t){var e=this,a="".concat("https://go-where-shop.herokuapp.com","/api/product/").concat(t);this.runStatus(t),this.axios.get(a).then((function(t){e.product=t.data.product,e.selected="",e.butQty=1,i()("#productModal").modal("show")}))},runStatus:function(t){this.selected=t},addtoCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="".concat("https://go-where-shop.herokuapp.com","/api/cart"),s={uid:"XY8q0YV6YYR21Q3dnLXBhnE24Bi1",product_id:t,qty:a};this.runStatus(t),this.axios.post(r,s).then((function(){e.$store.dispatch("getCart"),e.selected="",i()("#productModal").modal("hide")}))},removeCartItem:function(t){var e=this,a="".concat("https://go-where-shop.herokuapp.com","/api/cart/").concat(t);this.$store.commit("LOADINGCHANGE",!0),this.axios.delete(a).then((function(){e.$store.commit("LOADINGCHANGE",!1),e.$store.dispatch("getCart")}))},useCoupon:function(){var t=this,e="".concat("https://go-where-shop.herokuapp.com","/api/coupon");this.$store.commit("LOADINGCHANGE",!0),this.axios.post(e,{uid:"XY8q0YV6YYR21Q3dnLXBhnE24Bi1",code:this.coupon.code}).then((function(e){t.coupon.code="",t.$store.commit("LOADINGCHANGE",!1),e.data.success?t.$store.dispatch("getCart"):t.$store.dispatch("updateMessage",{message:e.data.message,status:"danger"})}))},formCommit:function(){var t=this,e=this;this.$validator.validateAll().then((function(a){if(a){t.$store.commit("LOADINGCHANGE",!0);var r="".concat("https://go-where-shop.herokuapp.com","/api/order"),s={name:e.form.user.name,email:e.form.user.email,tel:e.form.user.phone,address:e.form.user.address,uid:"XY8q0YV6YYR21Q3dnLXBhnE24Bi1",payment_method:"credit_card",message:e.form.message};t.axios.post(r,s).then((function(t){e.$store.commit("LOADINGCHANGE",!1),t.data.success?e.$router.push("/admin/checkouttest/".concat(t.data.orderID)):e.$store.dispatch("updateMessage",{message:t.data.message,status:"danger"})}))}}))}},computed:{products:function(){return this.$store.state.products},isLoading:function(){return this.$store.state.isLoading},cart:function(){return this.$store.state.cart}},filters:{currency:function(t){if(void 0===t)return"";var e=String(t).split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}}},c=o,l=a("2877"),u=Object(l["a"])(c,r,s,!1,null,null,null);e["default"]=u.exports},"520a":function(t,e,a){"use strict";var r=a("0bfb"),s=RegExp.prototype.exec,n=String.prototype.replace,i=s,o="lastIndex",c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t[o]||0!==e[o]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(i=function(t){var e,a,i,u,d=this;return l&&(a=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),c&&(e=d[o]),i=s.call(d,t),c&&i&&(d[o]=d.global?i.index+i[0].length:e),l&&i&&i.length>1&&n.call(i[0],a,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)})),i}),t.exports=i},"5f1b":function(t,e,a){"use strict";var r=a("23c6"),s=RegExp.prototype.exec;t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var n=a.call(t,e);if("object"!==typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return s.call(t,e)}},"7f7f":function(t,e,a){var r=a("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,i="name";i in s||a("9e1e")&&r(s,i,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},a481:function(t,e,a){"use strict";var r=a("cb7c"),s=a("4bf8"),n=a("9def"),i=a("4588"),o=a("0390"),c=a("5f1b"),l=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,(function(t,e,a,f){return[function(r,s){var n=t(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,n,s):a.call(String(n),r,s)},function(t,e){var s=f(a,t,this,e);if(s.done)return s.value;var d=r(t),p=String(this),m="function"===typeof e;m||(e=String(e));var g=d.global;if(g){var b=d.unicode;d.lastIndex=0}var C=[];while(1){var x=c(d,p);if(null===x)break;if(C.push(x),!g)break;var _=String(x[0]);""===_&&(d.lastIndex=o(p,n(d.lastIndex),b))}for(var y="",w=0,$=0;$<C.length;$++){x=C[$];for(var k=String(x[0]),E=l(u(i(x.index),p.length),0),N=[],A=1;A<x.length;A++)N.push(v(x[A]));var S=x.groups;if(m){var I=[k].concat(N,E,p);void 0!==S&&I.push(S);var L=String(e.apply(void 0,I))}else L=h(k,p,E,N,S,e);E>=w&&(y+=p.slice(w,E)+L,w=E+k.length)}return y+p.slice(w)}];function h(t,e,r,n,i,o){var c=r+t.length,l=n.length,u=m;return void 0!==i&&(i=s(i),u=p),a.call(o,u,(function(a,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":o=i[s.slice(1,-1)];break;default:var u=+s;if(0===u)return a;if(u>l){var p=d(u/10);return 0===p?a:p<=l?void 0===n[p-1]?s.charAt(1):n[p-1]+s.charAt(1):a}o=n[u-1]}return void 0===o?"":o}))}}))},b0c5:function(t,e,a){"use strict";var r=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})}}]);
//# sourceMappingURL=chunk-a233acca.7c9d67f0.js.map