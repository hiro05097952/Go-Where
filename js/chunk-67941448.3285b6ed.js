(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67941448"],{"0e18":function(s,t,e){"use strict";var a=e("667b"),o=e.n(a);o.a},"35b0":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"adminLogin"},[e("form",{staticClass:"form-signin mt-4",on:{submit:function(t){return t.preventDefault(),s.login(t)}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal mt-4"},[s._v("請先登入")]),e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[s._v("Email address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.userName,expression:"userName"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:""},domProps:{value:s.userName},on:{input:function(t){t.target.composing||(s.userName=t.target.value)}}}),e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[s._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}}),s._m(0),e("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[s._v("Sign in")]),e("p",{staticClass:"mt-5 mb-3 text-muted"},[s._v("© 2017-2019")])])])},o=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"checkbox mb-3"},[e("label",[e("input",{attrs:{type:"checkbox",value:"remember-me"}}),s._v(" Remember me\n      ")])])}],r=e("59ca"),i=e.n(r),n=i.a.auth(),u={name:"Admin_login",data:function(){return{userName:"",password:""}},methods:{login:function(){var s=this;this.$store.commit("LOADINGCHANGE",!0),n.signInWithEmailAndPassword(this.userName,this.password).then((function(t){t.user.getIdToken().then((function(t){s.axios.post("".concat("https://go-where-shop.herokuapp.com","/api/login"),{idToken:t}).then((function(t){t.data.success&&(s.$store.commit("UPDATEUSER",t.data.userInfo),s.userName="",s.password="",s.$store.dispatch("updateMessage",{message:"登入成功",status:"success"}),t.data.userInfo.emailVerified||s.$store.dispatch("updateMessage",{message:"請至信箱驗證並繼續購物",status:"error"})),s.$store.commit("OPENLOGINBOX",!1),s.$store.commit("LOADINGCHANGE",!1)}))}))})).catch((function(t){"auth/user-not-found"===t.code&&s.$store.dispatch("updateMessage",{message:"查無此用戶，請再次確認帳號密碼",status:"error"}),"auth/wrong-password"===t.code&&s.$store.dispatch("updateMessage",{message:"使用者帳號或密碼錯誤",status:"error"}),"auth/invalid-email"===t.code&&s.$store.dispatch("updateMessage",{message:"請輸入正確的 email 格式",status:"error"}),setTimeout((function(){s.$store.commit("LOADINGCHANGE",!1)}),500)}))},setAdmin:function(){var s=this;this.axios.post("".concat("https://go-where-shop.herokuapp.com","/api/admin/user")).then((function(t){s.$store.dispatch("updateMessage",{status:t.data.success?"success":"error",message:t.data.message})}))}}},c=u,m=(e("0e18"),e("2877")),d=Object(m["a"])(c,a,o,!1,null,"0e9a878d",null);t["default"]=d.exports},"667b":function(s,t,e){}}]);
//# sourceMappingURL=chunk-67941448.3285b6ed.js.map