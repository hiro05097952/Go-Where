(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bcbcd5c"],{"9d3b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-10 row justify-content-center",attrs:{id:"checkorder"}},[a("form",{staticClass:"col-md-10"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.order.products,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.title))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.unit||"個"))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.price))])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{attrs:{width:"100"}},[t._v("Email")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("th",[t._v("姓名")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("th",[t._v("收件人電話")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",[t._v("收件人地址")]),a("td",[t._v(t._s(t.order.user.address))])]),t.order.is_paid&&t.ecpay.TradeDate?a("tr",[a("th",[t._v("付款時間")]),a("td",[t._v(t._s(t.ecpay.TradeDate))])]):t._e(),a("tr",[a("th",[t._v("付款狀態")]),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("付款完成")]):a("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),t.toPay(e)}}},[t._v("確認付款去")])]):t._e()]),a("div",{ref:"ecpay",staticClass:"d-none"})])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",[t._v("單價")])])}],i=(a("ac6a"),{name:"checkOrder",data:function(){return{order:{products:{},user:{}},ecpay:{}}},created:function(){this.getOrder()},methods:{getOrder:function(){var t=this,e="".concat("https://go-where-shop.herokuapp.com","/api/order/").concat(this.$route.params.order_id);this.$store.commit("LOADINGCHANGE",!0),this.axios.get(e).then((function(e){t.$store.commit("LOADINGCHANGE",!1),t.order=e.data.order,t.order.is_paid&&t.getClientReturn()}))},toPay:function(){var t=this,e=new Date,a=e.getMonth()+1;a=a<10?"0".concat(a):a;var r=e.getDate();r=r<10?"0".concat(r):r;var s=e.getHours();s=s<10?"0".concat(s):s;var i=e.getMinutes();i=i<10?"0".concat(i):i;var o=e.getSeconds();o=o<10?"0".concat(o):o;var c="".concat(e.getFullYear(),"/").concat(a,"/").concat(r," ").concat(s,":").concat(i,":").concat(o),n="";this.order.products.forEach((function(t,e,a){e!==a.length-1?n+="".concat(t.title,"#"):n+=t.title}));var d={MerchantTradeDate:c,TotalAmount:String(this.order.total),ItemName:n,TradeDesc:"GoWhere"};this.axios.post("".concat("https://go-where-shop.herokuapp.com","/api/ecpay/checkout"),{orderID:this.order.id,config:d}).then((function(e){t.$refs.ecpay.innerHTML=e.data,document.querySelector("#_form_aiochk").submit()}))},getClientReturn:function(){var t=this,e="".concat("https://go-where-shop.herokuapp.com","/api/ecpay/checkout");this.axios.get(e).then((function(e){e.data.length>1&&(t.ecpay=e.data[e.data.length-1])}))}}}),o=i,c=a("2877"),n=Object(c["a"])(o,r,s,!1,null,null,null);e["default"]=n.exports},ac6a:function(t,e,a){for(var r=a("cadf"),s=a("0d58"),i=a("2aba"),o=a("7726"),c=a("32e9"),n=a("84f2"),d=a("2b4c"),l=d("iterator"),u=d("toStringTag"),h=n.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},_=s(p),v=0;v<_.length;v++){var g,f=_[v],m=p[f],L=o[f],y=L&&L.prototype;if(y&&(y[l]||c(y,l,h),y[u]||c(y,u,f),n[f]=h,m))for(g in r)y[g]||i(y,g,r[g],!0)}}}]);
//# sourceMappingURL=chunk-6bcbcd5c.c77c6e07.js.map