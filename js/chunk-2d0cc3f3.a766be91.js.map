{"version":3,"sources":["webpack:///./src/views/userLike.vue?f211","webpack:///src/views/userLike.vue","webpack:///./src/views/userLike.vue?76cc","webpack:///./src/views/userLike.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","likes","length","staticClass","_l","item","key","on","$event","$router","push","imageUrl","_e","stopPropagation","addtoCart","id","removeFav","_v","_s","title","price","staticRenderFns","name","data","created","$store","dispatch","methods","product_id","qty","commit","axios","post","api","config","then","delete","response","success","message","status","computed","storeUser","state","user","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,aAAa,CAAuB,IAArBN,EAAIO,MAAMC,OAAcJ,EAAG,KAAK,CAACK,YAAY,YAAYT,EAAIU,GAAIV,EAAS,OAAE,SAASW,EAAKC,GAAK,OAAOR,EAAG,KAAK,CAACQ,IAAIA,EAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIe,QAAQC,KAAM,kBAAqBL,EAAO,OAAO,CAACP,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMK,EAAKM,SAAS,MAAON,EAAKM,SAAS,GAAIb,EAAG,MAAM,CAACK,YAAY,WAAWH,MAAM,CAAC,IAAMK,EAAKM,SAAS,MAAMjB,EAAIkB,KAAKd,EAAG,MAAM,CAACK,YAAY,QAAQ,CAACL,EAAG,IAAI,CAACK,YAAY,cAAcI,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOK,kBAAyBnB,EAAIoB,UAAUT,EAAKU,QAAQjB,EAAG,IAAI,CAACK,YAAY,eAAeI,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOK,kBAAyBnB,EAAIsB,UAAUX,EAAKU,YAAYjB,EAAG,KAAK,CAACJ,EAAIuB,GAAGvB,EAAIwB,GAAGb,EAAKc,UAAUrB,EAAG,IAAI,CAACJ,EAAIuB,GAAG,OAAOvB,EAAIwB,GAAGb,EAAKe,OAAS,WAAU,GAAGtB,EAAG,KAAK,CAACK,YAAY,UAAU,CAACT,EAAIuB,GAAG,6BACl4BI,EAAkB,GCwBtB,GACEC,KAAM,WACNC,KAFF,WAGI,MAAO,IAGTC,QANF,WAOI7B,KAAK8B,OAAOC,SAAS,aAEvBC,QAAS,CACPb,UADJ,SACA,yEACA,+DACA,GACQc,WAAYb,EACZc,IAAR,GAEMlC,KAAK8B,OAAOK,OAAO,iBAAiB,GAEpCnC,KAAKoC,MAAMC,KAAKC,EAAKC,GAAQC,MAAK,WAChC,EAAR,kCACQ,EAAR,+BAGInB,UAdJ,SAcA,cACMrB,KAAK8B,OAAOK,OAAO,iBAAiB,GACpC,IAAN,0EACMnC,KAAKoC,MAAMK,OAAOH,GAAKE,MAAK,SAAlC,GAEYE,EAASd,KAAKe,UAChB,EAAV,iCACYC,QAASF,EAASd,KAAKgB,QACvBC,OAAQ,YAEV,EAAV,6BAEQ,EAAR,uCAIEC,SAAU,CACRC,UADJ,WAEM,OAAO/C,KAAK8B,OAAOkB,MAAMC,MAE3B3C,MAJJ,WAKM,OAAON,KAAK8B,OAAOkB,MAAM1C,SCrEmT,I,YCO9U4C,EAAY,eACd,EACApD,EACA4B,GACA,EACA,KACA,KACA,MAIa,aAAAwB,E","file":"js/chunk-2d0cc3f3.a766be91.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"userLike\"}},[(_vm.likes.length !== 0)?_c('ul',{staticClass:\"likeWrap\"},_vm._l((_vm.likes),function(item,key){return _c('li',{key:key,on:{\"click\":function($event){return _vm.$router.push((\"/shop/iteminfo/\" + (item.id)))}}},[_c('div',[_c('img',{attrs:{\"src\":item.imageUrl[0]}}),(item.imageUrl[1])?_c('img',{staticClass:\"hoverImg\",attrs:{\"src\":item.imageUrl[1]}}):_vm._e(),_c('div',{staticClass:\"mask\"},[_c('i',{staticClass:\"fas fa-plus\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addtoCart(item.id)}}}),_c('i',{staticClass:\"fas fa-heart\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeFav(item.id)}}})])]),_c('h3',[_vm._v(_vm._s(item.title))]),_c('p',[_vm._v(\"NT$ \"+_vm._s(item.price || 0))])])}),0):_c('h3',{staticClass:\"noLike\"},[_vm._v(\"\\n    目前還未追蹤商品哦！\\n  \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"userLike\">\n    <ul class=\"likeWrap\" v-if=\"likes.length !== 0\">\n      <li v-for=\"(item, key) in likes\" :key=\"key\"\n      @click=\"$router.push(`/shop/iteminfo/${item.id}`)\">\n        <div>\n          <img :src=\"item.imageUrl[0]\">\n          <img :src=\"item.imageUrl[1]\" v-if=\"item.imageUrl[1]\" class=\"hoverImg\">\n\n          <div class=\"mask\">\n            <i class=\"fas fa-plus\" @click.stop=\"addtoCart(item.id)\"></i>\n            <i class=\"fas fa-heart\" @click.stop=\"removeFav(item.id)\"></i>\n          </div>\n        </div>\n        <h3>{{ item.title }}</h3>\n        <p>NT$ {{ item.price || 0 }}</p>\n      </li>\n    </ul>\n    <h3 class=\"noLike\" v-else>\n      目前還未追蹤商品哦！\n    </h3>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'userLike',\n  data() {\n    return {\n    };\n  },\n  created() {\n    this.$store.dispatch('getLikes');\n  },\n  methods: {\n    addtoCart(id, qty = 1) {\n      const api = `${process.env.VUE_APP_APIURL}/api/cart`;\n      const config = {\n        product_id: id,\n        qty,\n      };\n      this.$store.commit('LOADINGCHANGE', true);\n\n      this.axios.post(api, config).then(() => {\n        this.$store.commit('LOADINGCHANGE', false);\n        this.$store.dispatch('getCart');\n      });\n    },\n    removeFav(id) {\n      this.$store.commit('LOADINGCHANGE', true);\n      const api = `${process.env.VUE_APP_APIURL}/api/like/${id}`;\n      this.axios.delete(api).then((response) => {\n        // console.log(response.data);\n        if (response.data.success) {\n          this.$store.dispatch('updateMessage', {\n            message: response.data.message,\n            status: 'success',\n          });\n          this.$store.dispatch('getLikes');\n        }\n        this.$store.commit('LOADINGCHANGE', false);\n      });\n    },\n  },\n  computed: {\n    storeUser() {\n      return this.$store.state.user;\n    },\n    likes() {\n      return this.$store.state.likes;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userLike.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userLike.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userLike.vue?vue&type=template&id=5b29dddc&\"\nimport script from \"./userLike.vue?vue&type=script&lang=js&\"\nexport * from \"./userLike.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}